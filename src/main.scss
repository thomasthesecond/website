@import '../node_modules/susy/sass/susy';
@import './normalize';
@import './hamburgers';
@import './swiper';
@import './font-face';
@import './settings';
@import './functions';
@import './mixins';
@import './base';

// .Home {
//   height: 100%;
//   overflow: hidden;
//   position: relative;
// }

.image {
  border: 1px solid color('DustyGray');
  box-shadow: 0 2px 4px rgba(black, .5), 0 1px 3px rgba(black, .5) inset;
}

.Masthead {
  transition: background-image 200ms ease-in-out,
    color 200ms ease-in-out,
    text-shadow 200ms ease-in-out;

  a {
    color: color('PictonBlue');

    &:hover,
    &:active,
    &:focus {
      @include underlined-link;
    }
  }
}

/// Objects

.wrap {
  // @include container;
  margin-left: auto;
  margin-right: auto;
  max-width: container();
  // overflow: hidden;
  position: relative;
  // width: 100%;

  // padding-left: 20px;
  // padding-right: 20px;
  width: auto;

  // @media (max-width: 571px) {
  //   padding-left: 20px;
  //   padding-right: 20px;
  //   width: auto;
  // }
  //
  // @media (min-width: 572px) {
  //   width: 100%;
  // }

  // @media (max-width: 1402px) {
  // @media (max-width: 1534px) {
  //   background-color: gray;
  //   padding-left: 56px;
  //   padding-right: 56px;
  // }

  // background-color: gray;
  // padding-left: 50px;
  // padding-right: 50px;

  // @media (min-width: 572px) {
  //   padding-left: #{(56 / 1600) * 100%};
  //   padding-right: #{(56 / 1600) * 100%};
  // }

  @media (max-width: 669px) {
    padding-left: 20px;
    padding-right: 20px;
  }

  // @media (min-width: 572px) {
  @media (min-width: 670px) {
    // padding-left: #{(56 / 1600) * 100%};
    // padding-right: #{(56 / 1600) * 100%};
    width: #{(1290 / 1600) * 100%};
  }

  // @media (min-width: 1600px) {
  @media (min-width: 1534px) {
    // padding-left: 56px;
    // padding-right: 56px;
    // padding-left: 0;
    // padding-right: 0;
    width: 100%;
  }
}

.container {
  @include container;
}

.icon {
  display: inline-block;
  fill: currentColor;
  height: 1em;
  stroke: currentColor;
  stroke-width: 0;
  width: 1em;
}

.date {
  color: color('SilverChalice');
  display: inline-block;
  font-family: sans-serif('Light');
  font-size: 12px;
  letter-spacing: .4px;
  text-transform: uppercase;
}

.title {
  color: color('MineShaft');
  font-family: sans-serif('Book');
  font-size: 42px;
  letter-spacing: -.4px;
  line-height: (44 / 42);
  margin: #{(10 / 42)}em 0 #{(27 / 42)}em;

  @media (max-width: 445px) {
    font-size: 26px !important; // override element query
    line-height: 1.2 !important; // override element query
  }

  @media (min-width: 446px) and (max-width: 571px) {
    font-size: 35px !important; // override element query
  }

  @media (min-width: 509px) and (max-width: 669px) {
    margin-left: auto;
    margin-right: auto;
    max-width: 80%;
  }
}

.intro {
  color: color('CapeCod');
  // font-family: serif;
  font-size: 24px;
  font-weight: 300;
  line-height: (36 / 24);
  margin: 0 0 #{(37 / 24)}em;

  @media (max-width: 445px) {
    font-size: 16px !important; // override element query
  }

  @media (min-width: 446px) and (max-width: 571px) {
    font-size: 20px !important; // override element query
  }
}

.headroom {
  color: color('Tundora');
  // transition: background-color 400ms ease-in-out,
  //   transform 400ms ease-in-out;
  transition: transform 400ms ease-in-out;
  will-change: transform;
}

.headroom--pinned {
  // @media (min-width: 670px) {}
  transform: translateY(0%);

  &.headroom--not-top {
    // @media (min-width: 670px) {}
    background-color: color('White');
    border-bottom: 1px solid rgba(color('DustyGray'), .1);
  }
}

.headroom--unpinned {
  // @media (min-width: 670px) {}
  transform: translateY(-100%);

  &.headroom--not-top {
    // @media (min-width: 670px) {}
    background-color: color('White');
    border-bottom: 1px solid rgba(color('DustyGray'), .1);
  }
}

.PageTitle {
  font-family: sans-serif('Medium');
  font-size: 18px;
  font-weight: 600;
  left: 50%;
  letter-spacing: -.77px;
  line-height: (31 / 18);
  opacity: 0;
  position: absolute;
  transform: translateX(-50%);
  // transition: opacity 400ms ease-in-out,
  //   visibility 400ms ease-in-out;
  visibility: hidden;

  @media (min-width: 446px) {
    font-size: 20px;
    line-height: (36 / 20);
  }

  @media (min-width: 572px) {
    font-size: 24px;
    line-height: (42 / 24);
  }

  .headroom--unpinned.headroom--not-top &,
  .headroom--pinned.headroom--not-top & {
    opacity: 1;
    visibility: visible;
  }
}

.NavButton {
  background-color: transparent;
  border: 0;
  border-radius: 0;
  cursor: pointer;
  outline: 0;
  padding: 0;
  user-select: none;
}

.hamburger {
  display: block;
  padding: 8px 9px 7px;

  @media (min-width: 446px) {
    padding: 10px 9px 9px;
  }

  @media (min-width: 572px) {
    padding: 11px 13px 10px;
  }

  @media (max-width: 571px) {
    // margin-right: -17px;
    // margin-top: -6px;
  }

  .Nav & {
    float: right;

    @media (max-width: 571px) {
      // transform: scale(.75);
    }
  }
}

.hamburger-box {
  display: block;
  height: 15px;
  width: 29px;

  @media (min-width: 446px) {
    height: 17px;
    width: 31px;
  }

  @media (min-width: 572px) {
    height: 21px;
    width: 35px;
  }
}

.hamburger-inner {
  border-radius: 0;
  margin-top: 0;
}

.hamburger-inner,
.hamburger-inner::before,
.hamburger-inner::after {
  background-color: color('Scorpion');
  height: 1px;
  transition: background-color 200ms ease-in-out;
  width: 100%;

  .NavButton.-white & {
    background-color: color('White');
  }

  .headroom--unpinned.headroom--not-top &,
  .headroom--pinned.headroom--not-top & {
    background-color: color('MineShaft');
  }
}

.hamburger--elastic {
  .hamburger-inner {
    top: 0;
  }

  &.is-active .hamburger-inner {
    top: -3px;

    @media (min-width: 446px) {
      top: -2px;
    }
  }

  .hamburger-inner::before {
    top: 7px;

    @media (min-width: 446px) {
      top: 8px;
    }

    @media (min-width: 572px) {
      top: 10px;
    }
  }

  .hamburger-inner::after {
    top: 14px;

    @media (min-width: 446px) {
      top: 16px;
    }

    @media (min-width: 572px) {
      top: 20px;
    }
  }

  &.is-active .hamburger-inner::after {
    top: 20px;
  }
}

.HomeSwiper {
  &.swiper-container {
    height: 100vh;
    margin-left: auto;
    margin-right: auto;
    width: 100%;
  }

  .swiper-slide {
    // -webkit-box-align: center;
    // -ms-flex-align: center;
    // -webkit-align-items: center;
    // align-items: center;
    background-color: color('White');
    // display: -webkit-box;
    // display: -ms-flexbox;
    // display: -webkit-flex;
    // display: flex;
    // -webkit-box-pack: center;
    // -ms-flex-pack: center;
    // -webkit-justify-content: center;
    // justify-content: center;
  }

  .swiper-pagination {
    @media (max-width: 669px) {
      display: none;
    }
  }

  &.swiper-container-vertical > .swiper-pagination-bullets {
    left: 20px;
    right: auto;

    @media (min-width: 572px) {
      left: #{(56 / 1600) * 100%};
    }

    @media (min-width: 1600px) {
      left: 56px;
    }
  }

  &.swiper-container-vertical > .swiper-pagination-bullets .swiper-pagination-bullet {
    margin: 6px 0;
  }

  .swiper-pagination-bullet {
    background: #cac6cd;
    height: 5px;
    opacity: 1;
    transition: background 200ms ease-in-out;
    width: 5px;

    @media (min-width: 760px) {
      height: 10px;
      width: 10px;
    }
  }

  .light {
    background: lighten(#cac6cd, 5);
  }

  .lighter {
    background: lighten(#cac6cd, 10);
  }

  .swiper-pagination-bullet-active {
    background: color('PictonBlue');
  }
}

.copy {
  // base ----------------------------------------------------------------------

  color: color('Gray');
  font-family: serif();
  font-size: #{($copy-size - 8)}px;
  line-height: (48 / $copy-size);
  margin: 0;

  @media (min-width: 670px) {
    font-size: #{$copy-size}px;
  }

  // sizes ---------------------------------------------------------------------

  &.-small {
    font-size: 20px;
    line-height: (36 / 24);

    @media (max-width: 669px) {
      font-size: 18px;
    }
  }

  &.-small.-loose {
    line-height: (48 / 24);
  }

  // colors --------------------------------------------------------------------

  &.-white {
    color: color('White');
  }
}

.heading {
  // base ----------------------------------------------------------------------

  color: color('MineShaft');
  font-family: sans-serif('Book');
  margin: 0;

  // sizes ---------------------------------------------------------------------

  &.-huge {
    // font-size: #{($heading-huge / $base-size)}em;
    // letter-spacing: -2.84px;
    // line-height: (71 / $heading-huge);

    font-size: 50px; // 3.8em;
    font-weight: 600;
    letter-spacing: -2px;
    line-height: 1.05;

    @media (max-width: 669px) {
      font-size: #{($heading-large / $base-size)}em;
    }
  }

  &.-large {
    // font-size: #{($heading-large / $base-size)}em;
    // letter-spacing: -1px;
    // line-height: (54 / $heading-large);
    line-height: 1.18;
    font-size: 42px;
    font-weight: 600;

    color: #424242;
    letter-spacing: -1.5px;

    @media (max-width: 669px) {
      font-size: #{($heading-medium / $base-size)}em;
    }
  }

  &.-medium {
    // font-size: #{($heading-medium / $base-size)}em;
    letter-spacing: -1.34px;
    line-height: (54 / $heading-medium);

    color: #585858;
    font-size: 38px;
    font-weight: 600;

    @media (max-width: 669px) {
      font-size: #{($heading-small / $base-size)}em;
    }
  }

  &.-small {
    font-size: #{($heading-small / $base-size)}em;
    letter-spacing: -1.42px;
    line-height: (48 / $heading-small);

    @media (max-width: 669px) {
      font-size: #{(28 / $base-size)}em;
    }
  }

  &.-tiny {
    color: #787878;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 1px;
    line-height: 1;
    text-transform: uppercase;
  }

  // colors --------------------------------------------------------------------

  &.-light {
    color: rgba(color('MineShaft'), .69);
  }

  &.-gray {
    color: color('Tundora');
  }

  &.-white {
    color: color('White');
  }

  &.-whiteAlt {
    color: rgba(color('White'), .46);
  }

  // styles --------------------------------------------------------------------

  &.-tick {
    position: relative;

    &::before {
      content: '';
      display: block;
      height: 4px;
      left: 0;
      margin: auto;
      position: absolute;
      right: 0;
      top: 0;
      width: 30px;
    }

    &.-large {
      // margin-bottom:  #{(74 / $heading-large)}em;
      margin-bottom:  #{(44 / $heading-large)}em;
      padding-top: #{(76 / $heading-large)}em;

      @media (min-width: 670px) {
        // padding-top: #{(128 / $heading-large)}em;
        padding-top: 128px;
      }
    }

    &.-white::before {
      background-color: rgba(color('White'), .66);
    }

    // LP
    &.-mariner::before {
      background-color: color('Mariner');
    }

    &.-blue::before {
      background-color: #4a90e2;
    }

    // Salesforce
    &.-cerulean::before {
      background-color: color('Cerulean');
    }

    // Airbnb
    &.-persimmon::before {
      background-color: color('Persimmon');
    }
  }
}

.Story.-lp {
  // LP Chapter 1 --------------------------------------------------------------

  .Intro + .Chapter-1 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(210 / $base-size)}em;
    }
  }

  .Chapter-1 {
    .Section {
      padding-bottom: 0;

      @media (min-width: 670px) {
        padding-bottom: #{(50 / $base-size)}em;
      }
    }

    .Section + .DataMetricsFeature {
      margin-top: #{(48 / $base-size)}em;
    }
  }

  // LP Chapter 2 --------------------------------------------------------------

  .Chapter-2 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(158 / $base-size)}em;
    }

    .Graph {
      margin-top: #{(170 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(115 / $base-size)}em;
      }
    }

    .Graph + .CopyBlock {
      margin-top: #{(80 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(160 / $base-size)}em;
      }
    }
  }

  // LP Chapter 3 --------------------------------------------------------------

  .Chapter-3 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(246 / $base-size)}em;
    }

    .Section {
      padding-bottom: 0;

      &::after {
        @media (max-width: 669px) {
          height: 15%;
        }
      }

      @media (min-width: 670px) {
        // padding-bottom: #{(206 / $base-size)}em;
        padding-bottom: 14.875em;
      }
    }

    .SingleImage {
      margin-top: #{(40 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(-138 / $base-size)}em;
      }
    }
  }

  // LP Chapter 4 --------------------------------------------------------------

  .Chapter-4 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(112 / $base-size)}em;
    }

    .ImageGroup {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(108 / $base-size)}em;
      }
    }

    .ImageGroup + .CopyBlock {
      margin-top: #{(50 / $base-size)}em;

      @media (min-width: 670px) {
        // margin-top: #{(176 / $base-size)}em;

        margin-top: 9em;
        margin-bottom: 140px;
      }
    }

    .SingleImage {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(57 / $base-size)}em;
      }
    }
  }

  // LP Chapter 5 --------------------------------------------------------------

  .Chapter-5 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(134 / $base-size)}em;
    }

    .FullImage {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        // margin-top: #{(71 / $base-size)}em;
        margin-top: #{(150 / $base-size)}em;
      }
    }

    .FullImage + .CopyBlock {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(142 / $base-size)}em;
      }
    }

    .SingleImage {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(144 / $base-size)}em;
      }
    }

    .ColumnImages {
      margin-top: gutter();

      @media (min-width: 670px) {
        margin-top: gutter(static);
      }
    }
  }

  // LP Chapter 6 --------------------------------------------------------------

  .Chapter-6 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(152 / $base-size)}em;
    }

    .CopyBlock + .ImageGroup {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(95 / $base-size)}em;
      }
    }

    .ImageGroup + .CopyBlock {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(141 / $base-size)}em;
      }
    }
  }

  // LP Chapter 7 --------------------------------------------------------------

  .Chapter-7 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(218 / $base-size)}em;
    }

    .Section {
      padding-bottom: 70px;

      &::after {
        @media (max-width: 669px) {
          height: 20%;
        }
      }
    }

    .iPhones {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        // margin-top: #{(74 / $base-size)}em;
        margin-top: 30px;
      }
    }
  }

  // LP Chapter 8 --------------------------------------------------------------

  .Chapter-8 {
    margin-top: #{(100 / $base-size)}em;

    .CityGuides {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(122 / $base-size)}em;
      }
    }
  }

  // LP Chapter 9 --------------------------------------------------------------

  .Chapter-9 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(168 / $base-size)}em;
    }

    .DiscoverFeature {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(101 / $base-size)}em;
      }
    }
  }

  // LP Chapter 10 -------------------------------------------------------------

  .Chapter-10 {
    margin-top: #{(100 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(158 / $base-size)}em;
    }

    .Video {
      margin-top: #{(80 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(126 / $base-size)}em;
      }
    }

    .FullImage {
      @media (min-width: 670px) {
        margin-top: #{(210 / $base-size)}em;
      }
    }

    .FullImage + .CopyBlock {
      margin-top: #{(60 / $base-size)}em;

      @media (min-width: 670px) {
        margin-top: #{(164 / $base-size)}em;
      }
    }
  }
}

.Contact .Story {
  padding-top: #{(88 / $base-size)}em;

  @media (min-width: 670px) {
    padding-top: #{(188 / $base-size)}em;
  }

  .copy {
    margin-bottom: #{(25 / $copy-size)}em;
    margin-top: #{(25 / $copy-size)}em;
  }
}

.About .Story {
  padding-bottom: #{(96 / $base-size)}em;
  padding-top: #{(88 / $base-size)}em;

  @media (min-width: 670px) {
    padding-bottom: #{(156 / $base-size)}em;
    padding-top: #{(188 / $base-size)}em;
  }

  .AboutBrad {
    .heading {
      @media (min-width: 980px) {
        width: span(10);
      }

      @media (min-width: 1160px) {
        width: span(8);
      }

      @media (min-width: 1460px) {
        width: span(6);
      }
    }

    .copy {
      margin-bottom: #{(59 / $copy-size)}em;
      margin-top: #{(59 / $copy-size)}em;

      @media (min-width: 980px) {
        width: span(10);
      }

      @media (min-width: 1160px) {
        width: span(8);
      }
    }
  }

  .Services {
    .heading {}
    .ServicesList {}
  }
}

.Services {
  &.-tick {
    margin-top: #{(118 / $base-size)}em;

    @media (min-width: 670px) {
      margin-top: #{(178 / $base-size)}em;
    }

    &::before {
      background-color: color('Persimmon');
      content: '';
      display: block;
      height: 4px;
      margin-bottom: #{(96 / $base-size)}em;
      width: 30px;

      @media (min-width: 670px) {
        margin-bottom: #{(156 / $base-size)}em;
      }
    }
  }
}

.ServicesList {
  // font-size: 14px;
  margin-top: #{(67 / $base-size)}em;

  @media (min-width: 670px) {
    // font-size: #{$base-size}px;
    margin-top: #{(127 / $base-size)}em;
  }

  .ServicesList-column {
    // margin-bottom: #{(40 / 14)}em;
    margin-bottom: #{(40 / $base-size)}em;

    @media (min-width: 670px) {
      margin-bottom: #{(105 / $base-size)}em;
    }
  }

  .copy {
    margin-top: #{(29 / $copy-size)}em;
  }
}

.Story.-airbnb {
  // Airbnb Chapter 1 ------------------------------------------------------------

  .Intro + .Chapter-1 {
    margin-top: 100px;

    @media (min-width: 670px) {
      margin-top: 210px;
    }
  }

  .Chapter-1 {
    .Section {
      padding-bottom: 0;
      padding-top: 80px;

      @media (min-width: 670px) {
        padding-bottom: 245px;
        padding-top: 96px;
      }
    }

    .Section + .CarouselFeature {
      margin-top: 45px;

      @media (min-width: 670px) {
        margin-top: -112px;
      }
    }

    .Carousel {
      margin-top: 30px;

      @media (min-width: 670px) {
        margin-top: 83px;
      }
    }

    .CarouselFeature + .CopyGroup {
      margin-top: 20px;

      @media (min-width: 670px) {
        margin-top: 0;
      }
    }

    .CopyBlock + .SingleImage {
      margin-top: 30px;

      @media (min-width: 670px) {
        margin-top: 54px;
      }
    }
  }

  // Airbnb Chapter 2 ------------------------------------------------------------

  .Chapter-2 {
    margin-top: 60px;

    @media (min-width: 670px) {
      margin-top: 60px;
    }

    .CopyGroup {
      .CopyBlock + .SingleImage {
        margin-top: 40px;

        @media (min-width: 670px) {
          margin-top: 100px;
        }
      }
    }

    .Section {
      margin-top: -80px;
      padding-top: 150px;

      @media (max-width: 669px) {
        padding-bottom: 100px;
      }

      @media (min-width: 670px) {
        margin-top: -285px;
        padding-top: 425px;
      }

      .CopyBlock + .SingleImage {
        margin-top: 60px;

        @media (min-width: 670px) {
          margin-top: 112px;
        }
      }

      .SingleImage + .CopyBlock {
        margin-top: 70px;

        @media (min-width: 670px) {
          margin-top: 134px;
        }
      }
    }
  }

  // Airbnb Chapter 3 ------------------------------------------------------------

  .Chapter-3 {
    margin-top: 16px;

    .Section + .ImageGroup {
      margin-top: -80px;

      @media (min-width: 670px) {
        margin-top: -130px;
      }
    }

    .ImageGroup + .SingleImage {
      margin-top: 80px;

      @media (min-width: 670px) {
        margin-top: 200px;
      }
    }

    .SingleImage + .CopyBlock {
      margin-top: 60px;

      @media (min-width: 670px) {
        margin-top: 148px;
      }
    }
  }

  // Airbnb Chapter 4 ------------------------------------------------------------

  .Chapter-4 {
    margin-top: 100px;

    @media (min-width: 670px) {
      margin-top: 258px;
    }

    .Section + .ImageGroup {
      margin-top: -120px;

      @media (min-width: 670px) {
        margin-top: -134px;
      }
    }

    .ImageGroup + .CopyBlock {
      margin-top: 80px;

      @media (min-width: 670px) {
        margin-top: 142px;
      }
    }
  }

  // Airbnb Chapter 5 ------------------------------------------------------------

  .Chapter-5 {
    margin-top: 100px;

    @media (min-width: 670px) {
      margin-top: 245px;
    }

    .Section + .PhotoGallery {
      margin-top: -100px;

      @media (min-width: 670px) {
        margin-top: -148px;
      }
    }

    .PhotoGallery + .FullImage {
      margin-top: 40px;

      @media (min-width: 670px) {
        margin-top: 46px;
      }
    }

    .FullImage + .CopyBlock {
      margin-top: 80px;

      @media (min-width: 670px) {
        margin-top: 136px;
      }
    }
  }
}

.CopyHeader {
  position: relative;

  .heading.-tiny {
    left: 0;
    position: absolute;
    right: 0;
    top: #{(30 / $base-size)}em;

    @media (min-width: 670px) {
      top: #{(90 / $base-size)}em;
    }
  }
}

.Story .Intro {
  padding-top: 80px;

  @media (min-width: 670px) {
    padding-top: 195px;
  }
}

.IntroHeader {
  text-align: center;
  margin-bottom: #{(82 / $base-size)}em;

  @media (max-width: 669px) {
    font-size: 12px;
  }

  .heading.-huge {
    margin-left: auto;
    margin-right: auto;
    width: span(10);
  }

  .heading.-tiny {
    // margin-bottom: #{(16 / $base-size)}em;
    margin-bottom: 25px;
  }
}

.IntroCopy {
  @media (max-width: 669px) {
    text-align: center;
  }
}

.IntroCopy .copy {
  @media (min-width: 670px) {
    margin-top: 13px;
    padding-right: (60px / span(7 static)) * 100%;
  }
}

.IntroCopy aside {
  margin-top: 40px;

  @media (min-width: 670px) {
    margin-top: 21px;
  }

  .copy {
    @media (max-width: 669px) {
      margin-top: 8px;
    }
  }
}

// @mixin nested-span($n) {
//   .span-#{$n} {
//     @for $i from 1 through $n {
//       .span-#{$i} {
//         @media (min-width: 670px) {
//           width: span($i of $n);
//         }
//       }
//     }
//   }
// }

// $floats: left right;
// @each $float in $floats {
//   .#{$float} {
//     @media (min-width: 670px) {
//       float: #{$float};
//     }
//   }
// }

@for $i from 1 through 12 {
  .span-#{$i} {
    @media (min-width: 670px) {
      width: span($i);
    }
  }
}

.span-10 {
  @for $i from 1 through 10 {
    .span-#{$i} {
      @media (min-width: 670px) {
        width: span($i of 10);
      }
    }
  }
}


// Components

.Story {
  background-color: color('White');
  backface-visibility: hidden;
  padding-bottom: #{(100 / $base-size)}em;
  transition: transform 400ms ease-in-out;
  transform: translateY(0);

  @media (min-width: 670px) {
    padding-bottom: #{(343 / $base-size)}em;
  }

  .Page.is-loading & {
    transform: translateY(100vh);
  }
}

.Nav {
  opacity: 1;
  transition: opacity 500ms ease-in-out;

  .Page.is-loading & {
    opacity: 0;
  }
}

.Nav > .Header {
  // background-color: rgba(255, 255, 255, .6);
  overflow: hidden;
  padding: 20px;
  position: relative;
  z-index: 10;

  // @media (min-width: 572px) {
  @media (min-width: 670px) {
    padding-left: #{(60 / 1600) * 100%};
    padding-right: #{(60 / 1600) * 100%};
  }

  @media (min-width: 616px) {
    padding-bottom: #{(30 / 1600) * 100%};
    padding-top: #{(28 / 1600) * 100%};
  }

  @media (min-width: 1600px) {
    padding: 28px 60px 30px;
  }
}

.Nav > .Header-fixed {
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

.Logo {
  color: color('MineShaft');
  border-radius: 100%;
  display: inline-block;
  font-size: 30px;
  height: 1em;
  text-align: center;
  // transition: color 200ms ease-in-out;
  width: 1em;

  @media (min-width: 446px) {
    font-size: 36px;
  }

  @media (min-width: 572px) {
    font-size: 42px;
  }

  &.-white {
    color: color('White');
  }

  .icon {
    // opacity: .8;
    // transition: opacity 200ms ease-in-out;

    // @media (min-width: 572px) {
    //   padding-left: 2px;
    // }
  }

  &:hover,
  &:active,
  &:focus {
    .icon {
      // opacity: 1;
    }
  }

  .Nav & {
    float: left;
  }

  .headroom--unpinned.headroom--not-top &,
  .headroom--pinned.headroom--not-top & {
    color: color('MineShaft');
  }
}

.Menu {
  font-family: sans-serif('Medium');

  .Menu-container {
    align-items: center;
    display: flex;
    flex-direction: column;
    height: 100vh;
    justify-content: center;
    text-align: center;
    width: 100%;
  }

  .Nav & {
    background-color: color('White');
    height: 100vh;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 9;

    @media (min-width: 446px) {
      // height: calc(100vh - 78px);
      // top: 78px;
    }

    @media (min-width: 572px) {
      // height: calc(100vh - 88px);
      // top: 88px;
    }

    @media (min-width: 616px) {
      // height: calc(100vh - 152px);
      // top: #{(152 / 1600) * 100%};
    }

    @media (min-width: 1600px) {
      // height: calc(100vh - 152px);
      // top: 152px;
    }
  }

  &.-hidden {
    opacity: 0;
    transition: opacity 200ms, visibility 200ms;
    visibility: hidden;

    .Menu-container {
      opacity: 0;
      transition: opacity 200ms, visibility 200ms;
      visibility: hidden;
    }

    // .MenuPrimary li,
    // .MenuSecondary li {
    //   opacity: 0;
    //   transform: translateY(-20px) scale(1.2);
    //   transition: opacity 400ms, transform 400ms, visibility 400ms;
    //   visibility: hidden;
    // }
    //
    // .MenuSocial {
    //   opacity: 0;
    //   transition: opacity 400ms, visibility 400ms;
    //   visibility: hidden;
    // }
  }

  &.-visible {
    opacity: 1;
    transition: opacity 400ms, visibility 400ms;
    visibility: visible;

    .Menu-container {
      opacity: 1;
      transition: opacity 400ms ease-in-out 100ms,
        visibility 400ms ease-in-out 100ms;
      visibility: visible;
    }

    // .MenuPrimary li,
    // .MenuSecondary li {
    //   opacity: 1;
    //   transform: translateY(0) scale(1);
    //   visibility: visible;
    // }
    //
    // .MenuSocial {
    //   opacity: 1;
    //   visibility: visible;
    // }
    //
    // .MenuPrimary li:nth-child(1) {
    //   transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55),
    //     transform 400ms cubic-bezier(.68, -.55, .265, 1.55),
    //     visibility 400ms cubic-bezier(.68, -.55, .265, 1.55);
    // }
    //
    // .MenuPrimary li:nth-child(2) {
    //   transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55) 400ms,
    //     transform 400ms cubic-bezier(.68, -.55, .265, 1.55) 400ms,
    //     visibility 400ms cubic-bezier(.68, -.55, .265, 1.55) 400ms;
    // }
    //
    // .MenuPrimary li:nth-child(3) {
    //   transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55) 800ms,
    //     transform 400ms cubic-bezier(.68, -.55, .265, 1.55) 800ms,
    //     visibility 400ms cubic-bezier(.68, -.55, .265, 1.55) 800ms;
    // }
    //
    // .MenuSecondary li:nth-child(1) {
    //   transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55) 1200ms,
    //     transform 400ms cubic-bezier(.68, -.55, .265, 1.55) 1200ms,
    //     visibility 400ms cubic-bezier(.68, -.55, .265, 1.55) 1200ms;
    // }
    //
    // .MenuSecondary li:nth-child(2) {
    //   transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55) 1600ms,
    //     transform 400ms cubic-bezier(.68, -.55, .265, 1.55) 1600ms,
    //     visibility 400ms cubic-bezier(.68, -.55, .265, 1.55) 1600ms;
    // }
    //
    // .MenuSocial {
    //   transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55) 2000ms,
    //     visibility 400ms cubic-bezier(.68, -.55, .265, 1.55) 2000ms;
    // }
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  li {
    padding: 0;
  }

  a {
    display: inline-block;
  }

  .heading {
    font-weight: 300;

    @media(min-height: 420px) {
      font-size: #{(12 / $base-size)}em;
    }

    @media(min-height: 569px) {
      font-size: #{(14 / $base-size)}em;
    }

    @media(min-height: 668px) {
      font-size: #{(16 / $base-size)}em;
    }
  }
}

.MenuPrimary {
  color: color('MineShaft');
  // font-size: #{(64 / $base-size)}em;
  font-size: #{(40 / $base-size)}em;
  font-weight: 600;
  letter-spacing: -1.84px;
  // letter-spacing: -2.84px;
  line-height: (83 / 64);

  @media(min-height: 420px) {
    font-size: #{(40 / $base-size)}em;
    letter-spacing: -1.84px;
  }

  @media(min-height: 569px) {
    font-size: #{(52 / $base-size)}em;
    letter-spacing: -2.84px;
  }

  @media(min-height: 668px) {
    font-size: #{(58 / $base-size)}em;
  }

  @media(min-height: 737px) {
    // font-size: #{(64 / $base-size)}em;
    font-size: 50px
  }

  .Menu & {
    margin-top: #{(16 / 64)}em;
  }

  a {
    color: inherit;
    transition: color 200ms ease-in-out;

    &:hover,
    &:active,
    &:focus {
      color: color('DoveGray');
    }
  }

  span {
    color: color('Alto');
  }
}

.MenuSecondary {
  color: rgba(color('MineShaft'), .57);
  // font-size: #{(40 / $base-size)}em;
  // letter-spacing: -1.78px;
  font-size: #{(24 / $base-size)}em;
  letter-spacing: -.78px;
  line-height: (60 / 40);

  @media(min-height: 420px) {
    font-size: #{(24 / $base-size)}em;
    letter-spacing: -.78px;
  }

  @media(min-height: 569px) {
    font-size: #{(32 / $base-size)}em;
    letter-spacing: -1.78px;
  }

  @media(min-height: 668px) {
    font-size: #{(36 / $base-size)}em;
  }

  @media(min-height: 737px) {
    // font-size: #{(40 / $base-size)}em;
    font-size: 32px
  }

  .Menu & {
    margin-top: #{(50 / 40)}em;
  }

  a {
    color: inherit;
    transition: color 200ms ease-in-out;

    &:hover,
    &:active,
    &:focus {
      color: color('DoveGray');
    }
  }
}

.MenuSocial {
  font-size: #{(32 / $base-size)}em;

  .Menu & {
    bottom: #{(60 / 32)}em;
    position: absolute;

    @media(min-height: 420px) {
      font-size: 24px;
    }

    @media(min-height: 569px) {
      font-size: 28px;
    }

    @media(min-height: 737px) {
      font-size: 32px;
    }
  }

  li {
    display: inline-block;
    margin-left: #{(30 / 32)}em;
    margin-right: #{(30 / 32)}em;
  }

  a {
    color: color('CapeCod');
    transition: color 200ms ease-in-out,
      transform 200ms ease-in-out;

    &:hover,
    &:active,
    &:focus {
      color: color('DoveGray');
      transform: scale(1.1);
    }
  }
}

.Button {
  $color: color('MineShaft');
  background-color: $color;
  background-image: none;
  border: 0;
  border-radius: 0;
  color: color('White');
  cursor: pointer;
  display: inline-block;
  font-family: sans-serif('Medium');
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  line-height: 1;
  padding: #{(13 / 16)}em #{(35 / 16)}em #{(13 / 16)}em;
  text-align: center;
  text-decoration: none;
  touch-action: manipulation;
  transition: background-color 200ms ease-in-out;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;

  &:hover,
  &:active,
  &:focus {
    background-color: $color + 30;
  }
}

.Masthead {
  align-items: center;
  display: flex;
  height: 100vh;
  justify-content: center;
}

.Masthead-wrap {
  h1 {
    color: color('MineShaft');
    font-family: sans-serif('Book');
    font-size: 50px;
    letter-spacing: -.4px;
    line-height: 1.1;
    margin: 0;

    // desktop
    padding-right: 350px;

    @media (min-width: 1540px) {
      max-width: 80%;
    }
  }

  p {
    color: color('DoveGray');
    font-size: #{($copy-size / $base-size)}em;
    // font-family: serif;
    font-weight: 300;
    line-height: (48 / $copy-size);
    margin: 18px 0 0;
  }
}

.image-LonelyPlanet-1,
.image-Airbnb-1 {
  box-shadow: 0 15px 90px 23px rgba(0,0,0, .14);
  display: block;
  // height: calc(72vh - 152px);
  // height: 72vh - 10;
  height: 72vh;
  max-height: 713px;
  position: absolute;
  // right: #{(696 / 1800) * 100}vh;
  right: (span(7) / span(12)) * 100vh;
  // top: 152px + 150px;
  // top: 16vh + 5;
  // top: 16vh;
  transition: opacity 400ms ease-in-out 400ms,
    transform 400ms ease-in-out 400ms;
  z-index: 2;

  max-width: 410px;
  height: auto;

  @media (max-width: 669px) {
    // left: 0;
    // width: span(3);
    left: 20px;
    margin-top: #{(41 / 320) * 100%};
    right: auto;
    width: #{(118 / 320) * 100%};
  }

  @media (min-width: 670px) {
    right: span(3) + gutter();
    top: 50%;
    transform: translateY(-50%);
    width: span(3);
  }

  @media (min-width: 1400px) {
    // width: span(4);
    // right: span(4) + gutter();
  }

  .not-animated & {
    opacity: 0;
    transform: translateX(10px);

    @media (min-width: 670px) {
      transform: translateX(10px) translateY(-50%);
    }
  }

  .animated & {
    opacity: 1;
    transform: translateX(0);

    @media (min-width: 670px) {
      transform: translateX(0) translateY(-50%);
    }
  }
}

.image-LonelyPlanet-2,
.image-Airbnb-2 {
  box-shadow: 0 33px 114px 32px rgba(0,0,0, .11);
  display: block;
  // height: calc(100vh - 152px);
  // height: 100vh - 10;
  height: 100vh;
  max-height: 1059px;
  position: absolute;
  right: 0;
  // top: 152px;
  // top: 5vh;
  // top: 0;
  transition: opacity 400ms ease-in-out 800ms,
    transform 400ms ease-in-out 800ms;
  z-index: 1;

  max-width: 886px;
  // max-width: 80vh;
  height: auto;

  @media (max-width: 669px) {
    // right: -25px;
    // width: calc(100% + 50px);
    right: 20px;
    width: #{(255 / 320) * 100%};
  }

  @media (min-width: 670px) {
    right: -256px;
    top: 50%;
    transform: translateY(-50%);
    // width: calc(#{span(5)} + 256px);
    width: calc(#{span(5)} + 256px);
    // width: span(5);
  }

  @media (min-width: 1400px) {
    // width: calc(#{span(6)} + 256px);
    // // width: span(6);
    // right: -256px;
  }

  .not-animated & {
    opacity: 0;
    transform: translateX(10px);

    @media (min-width: 670px) {
      transform: translateX(10px) translateY(-50%);
    }
  }

  .animated & {
    opacity: 1;
    transform: translateX(0);

    @media (min-width: 670px) {
      transform: translateX(0) translateY(-50%);
    }
  }
}

.image-Salesforce {
  display: block;
  // height: 100vh - 10;
  max-height: 1116px;
  position: relative;
  right: -20px;
  // right: 0;
  // top: 152px;
  // top: 5vh;
  transition: opacity 400ms ease-in-out 400ms,
    transform 400ms ease-in-out 400ms;
  // z-index: 1;

  height: auto;
  // max-width: span(8 static) + 256px;
  max-width: span(8 static);
  width: 100%;

  @media (max-width: 669px) {
    // bottom: 0;
  }

  @media (min-width: 670px) {
    right: -256px;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    // width: calc(#{span(8)} + 256px);
    width: span(8);
  }

  .not-animated & {
    opacity: 0;
    transform: translateX(40px);

    @media (min-width: 670px) {
      transform: translateX(40px) translateY(-50%);
    }
  }

  .animated & {
    left: 50%;
    opacity: 1;
    // transform: translateX(0);
    transform: translateX(-50%);

    @media (min-width: 670px) {
      transform: translateX(0) translateY(-50%);
    }
  }
}

// .CaseStudy.-lp,
// .CaseStudy.-airbnb {
//   overflow: hidden;
// }

.CaseStudy.-lp + .CaseStudy.-airbnb {
  @media (min-width: 670px) {
    // margin-top: 387px;
    margin-top: #{(387 / 776) * 100}vh;
  }
}

.CaseStudy.-airbnb + .CaseStudy.-salesforce {
  @media (min-width: 670px) {
    // margin-top: 343px;
    margin-top: #{(343 / 776) * 100}vh;
  }
}

.CaseStudy {
  &.first {
    background-color: gray;
  }
  // align-items: center;
  // display: flex;
  padding-top: 70px;

  @media (min-width: 446px) {
    padding-top: 78px;
  }

  @media (min-width: 572px) {
    padding-top: 88px;
  }

  @media (min-width: 670px) {
    align-items: center;
    display: flex;
    height: 100vh;
    // justify-content: center;
  }
}

.CaseStudy-wrap {
  // @media (max-width: 571px) {
  //   text-align: center;
  // }

  @media (max-width: 445px) {
    height: calc(100vh - 70px);
  }

  @media (min-width: 446px) and (max-width: 571px) {
    height: calc(100vh - 78px);
  }

  @media (min-width: 572px) and (max-width: 669px) {
    height: calc(100vh - 88px);
  }

  @media (max-width: 669px) {
    text-align: center;
    width: auto;
  }

  @media (min-width: 670px) {
    align-items: center;
    display: flex;
    height: 100%;
    // justify-content: center;
  }
}

.CaseStudy-description {
  transition: opacity 400ms cubic-bezier(.68, -.55, .265, 1.55) 200ms,
    transform 400ms cubic-bezier(.68, -.55, .265, 1.55) 200ms;

  @media (max-width: 669px) {
    margin-bottom: 50px;
  }

  @media (max-width: 669px) {
    // margin-bottom: 100px;
    // margin-top: -200px;
  }

  @media (min-width: 670px) {
    padding-right: span(1) + gutter();
    width: span(4) + gutter();
  }

  // @media (min-width: 1400px) {
  //   width: span(3) + gutter();
  // }

  .not-animated & {
    opacity: 0;

    @media (max-width: 669px) {
      transform: translateY(-15%);
    }

    @media (min-width: 670px) {
      transform: translateX(-100%);
    }
  }

  .animated & {
    opacity: 1;

    @media (max-width: 669px) {
      transform: translateY(0);
    }

    @media (min-width: 670px) {
      transform: translateX(0);
    }
  }
}

.CaseStudy-images {
  // @media (max-width: 669px) {
  //   position: relative;
  // }
}

.FooterWrap {
  background-color: color('White');
}

.Footer {
  padding-bottom: #{100 / $base-size}em;

  @media (min-width: 670px) {
    padding-bottom: #{226 / $base-size}em;
  }

  &.-tick {
    &::before {
      background-color: color('Persimmon');
      content: '';
      display: block;
      height: 4px;
      margin: 0 auto #{(87 / $base-size)}em;
      width: 30px;

      .Home & {
        background-color: color('PictonBlue');
      }

      .LonelyPlanet.StoryPage & {
        background-color: color('Mariner');
      }

      @media (min-width: 670px) {
        margin-bottom: #{(87 / $base-size)}em;
      }
    }
  }
}

.Home .Footer {
  background-color: color('Seashell');
  padding-bottom: 124px;
  padding-top: 230px;

  // position: fixed;
  // width: 100%;
  // height: 100%;
  // z-index: 2;
  // top: 0;

  .wrap {
    max-width: span(10);
  }

  header {
    position: relative;
    text-align: center;

    // &::before {
    //   background-color: color('PictonBlue');
    //   content: '';
    //   display: block;
    //   height: 4px;
    //   left: 50%;
    //   margin-left: -15px;
    //   position: absolute;
    //   top: -94px;
    //   width: 30px;
    // }
  }

  h2 {
    color: color('MineShaft');
    font-family: sans-serif('Book');
    font-size: 50px;
    letter-spacing: -.4px;
    line-height: (54 / 50);
    margin: 0;
  }

  p {
    color: #4e5254;
    // font-family: serif;
    font-size: 32px;
    letter-spacing: -.25px;
    line-height: (48 / 32);
    margin-bottom: 65px;
    margin-top: 17px;
  }
}

.ContactHeader {
  @media (min-width: 1024px) {
    width: span(8);
  }

  .heading + .copy {
    margin-top: 1em;

    @media (min-width: 670px) {
      margin-top: .5em;
    }
  }
}

.ContactForm {
  font-family: sans-serif('Book');
  font-size: #{(18 / $base-size)}em;
  letter-spacing: -.77px;
  margin-top: #{(76 / 24)}em;

  @media (min-width: 670px) {
    font-size: #{(24 / $base-size)}em;
  }

  @media (min-width: 1024px) {
    width: span(10);
  }

  // ::-webkit-input-placeholder { color: rgba(color('Tundora'), .5); }
  // ::-moz-placeholder { color: rgba(color('Tundora'), .5); }
  // :-ms-input-placeholder { color: rgba(color('Tundora'), .5); }
  // :-moz-placeholder { color: rgba(color('Tundora'), .5); }

  .label {
    color: rgba(color('Tundora'), .5);
    font-size: 1em;
    display: block;
    left: #{(30 / 24)}em;
    pointer-events: none;
    position: absolute;
    top: #{(21 / 24)}em;
  }

  fieldset {
    border: 0;
    margin: 0;
    overflow: hidden;
    padding: 0;

    + fieldset {
      margin-top: gutter(10);
    }
  }

  legend,
  label {
    display: none;
  }

  input,
  textarea {
    background-color: color('AthensGray');
    border: 1px solid transparent;
    display: block;
    outline: none;
    padding: #{(21 / 24)}em #{(30 / 24)}em;
    transition: background-color 200ms ease-in-out,
      border-color 200ms ease-in-out;
    width: 100%;

    .Home & {
      background-color: color('White');
    }

    &:focus {
      background-color: lighten(color('AthensGray'), 1.5);
      border-color: darken(color('AthensGray'), 3);

      .Home & {
        background-color: color('White');
        border-color: color('White');
      }
    }

    &:focus,
    &.is-filled {
      padding-bottom: #{(15 / 24)}em;
      padding-top: #{(27 / 24)}em;
    }

    &:focus ~ .label,
    &.is-filled ~ .label {
      transform: translate(1px, -18px) scale(.5);
      transform-origin: 0;
    }
  }

  textarea {
    height: #{(316 / 24)}em;
    resize: none;
  }

  &.has-validated {
    input,
    textarea {
      &:invalid {
        border-color: color('Persimmon');
      }
    }
  }

  button {
    background-color: color('Persimmon');
    border: 0;
    // box-shadow: 0 #{(50 / 20)}em #{(75 / 20)}em rgba(color('Black'), .25);
    box-shadow: 0 30px 115px rgba(0, 0, 0, 0.2);
    color: color('White');
    cursor: pointer;
    display: block;
    font-size: #{(20 / 24)}em;
    line-height: 1;
    margin-top: gutter(10);
    outline: 0;
    padding: #{(25 / 20)}em 0 #{(23 / 20)}em;
    text-align: center;
    transition: background-color 100ms ease-in-out,
      box-shadow 100ms ease-in-out,
      transform 100ms ease-in-out;
    width: 100%;

    .Home & {
      background-color: color('PictonBlue');
    }

    .LonelyPlanet.StoryPage & {
      background-color: color('Mariner');
    }

    &:hover,
    &:focus,
    &:active {
      background-color: lighten(color('Persimmon'), 5);

      .Home & {
        background-color: lighten(color('PictonBlue'), 5);
      }

      .LonelyPlanet.StoryPage & {
        background-color: lighten(color('Mariner'), 5);
      }
    }

    &:active {
      box-shadow: none;
      transform: translate(3px, 3px);
    }
  }

  .field {
    position: relative;

    &.-half {
      @media (min-width: 480px) {
        float: left;
        width: span(5 of 10);
      }
    }
  }

  .field.-half + .field.-half {
    @media (max-width: 479px) {
      margin-top: gutter(10);
    }

    @media (min-width: 480px) {
      margin-left: gutter(10);
    }
  }
}

.panel {
  background-color: color('White');
  position: relative;
  z-index: 2;

  &.-feature {
    box-shadow: 0 25px 50px rgba(color('Black'), .2);
    padding: 20px;

    @media (min-width: 670px) {
      box-shadow: 0 #{(50 / $base-size)}em #{(75 / $base-size)}em rgba(color('Black'), .2);
      padding: #{(89 / $base-size)}em #{(108 / $base-size)}em;
    }
  }

  &.-column {
    box-shadow: 0 #{(35 / $base-size)}em #{(70 / $base-size)}em rgba(color('Black'), .13);
    // padding: #{(89 / $base-size)}em #{(108 / $base-size)}em;
  }

  // 0 35px 70px black, .17
  &.-image {
    border: 1px solid rgba(color('DustyGray'), .1);
    box-shadow: 0 38px 45px rgba(color('Black'), .2);

    @media (min-width: 670px) {
      box-shadow: 0 #{(75 / $base-size)}em #{(90 / $base-size)}em rgba(color('Black'), .2);
    }

    > img {
      display: block;
      max-width: 100%;
    }
  }

  &.-no-shadow {
    box-shadow: none;
  }
}

.DiscoverFeature {
  max-width: 850px;
  position: relative;

  @media (min-width: 1000px) {
    width: 60%;
  }
}

.DiscoverFeature-panels {
  position: absolute;
  right: 20px;
  top: 50%; // (87px / container()) * 100%;
  transform: translateY(-50%);
  width: span(6);
  z-index: 2;

  @media (min-width: 670px) {
    right: 0;
  }

  > img {
    box-shadow: 0 20px 40px rgba(color('Black'), .08);

    + img {
      // margin-top: 25px;
      margin-top: (25px / span(6 static)) * 100%;
    }
  }
}

.DiscoverFeature-markers {
  left: 18px;
  position: absolute;
  top: 50%; // 9px;
  transform: translateY(-50%);
  width: (691px / container()) * 100%;
  z-index: 3;

  @media (max-width: 669px) {
    left: (56px / 654px) * 100%;
    width: 40%;
  }

  @media (min-width: 670px) {
    left: -2px;
  }
}

.DiscoverFeature-map {
  // left: 0;
  // position: absolute;
  // top: 0;
  width: (728px / container()) * 100%;
  z-index: 1;
}

.DataMetricsFeature {
  > .container {
    @media (min-width: 800px) {
      display: flex;
    }
  }
}

.Metric {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  // padding: #{(60 / $base-size)}em #{(41 / $base-size)}em #{(31 / $base-size)}em;
  padding: 60px 41px 50px;
  text-align: center;

  @media (min-width: 800px) {
    float: left;
    width: span(4);
  }

  + .Metric {
    @media (max-width: 799px) {
      margin-top: gutter();
    }

    @media (min-width: 800px) {
      margin-left: gutter();
    }
  }
}

.MetricFigure {
  display: block;
  margin: 0 auto;
  text-align: center;
  width: 100%;

  @media (min-width: 480px) and (max-width: 669px) {
    max-width: 80%;
  }

  @media (min-width: 670px) and (max-width: 799px) {
    max-width: 60%;
  }

  svg {
    display: inline-block;

    .Metric.-data & {
      width: (280px / (span(4 static) - 82px)) * 100%;
    }

    .Metric.-tools & {
      width: (283px / (span(4 static) - 82px)) * 100%;
    }

    .Metric.-research & {
      width: (267px / (span(4 static) - 82px)) * 100%;
    }
  }
}

.MetricDescription {
  // margin-top: #{(64 / $base-size)}em;
  margin-top: 40px;

  .heading span {
    color: color('Gray');
    display: block;
    font-family: sans-serif('Light');
    // SansSerifLight: sans-serif('Light'),
    // SansSerifBook: sans-serif('Book'),
    // SansSerifMedium
    font-size: #{(12 / $heading-medium)}em;
    letter-spacing: 2px;
    line-height: 1;
    margin-top: #{(8 / 12)}em;
    text-transform: uppercase;
    font-weight: 300;
  }

  .copy {
    // font-size: 1em;
    color: #5a5a5a;
    font-size: 14px;
    line-height: (28 / 16);
    margin-top: #{(36 / $base-size)}em;
  }
}

.columns {
  @include container;

  .column {
    float: left;

    + .column {
      margin-left: gutter();
    }
  }

  &.-three .column {
    width: span(4);
  }

  &.-four .column {
    width: span(3);
  }
}

.ServicesList {
  -webkit-columns: span(3 static) 3;
     -moz-columns: span(3 static) 3;
          columns: span(3 static) 3;
  -webkit-column-gap: span(1 static) + gutter(static) + gutter(static);
     -moz-column-gap: span(1 static) + gutter(static) + gutter(static);
          column-gap: span(1 static) + gutter(static) + gutter(static);
}

.ServicesList-column {
  display: inline-block;
}

.PhotoGallery {
  position: relative;
  z-index: 2;

  img {
    // border: 1px solid rgba(color('DustyGray'), .58);
    // box-shadow: 0 20px 40px rgba(color('Black'), .17);
    display: block;
    float: left;

    &:not(:first-child) {
      margin-top: gutter();
    }

    &:nth-child(2),
    &:nth-child(6),
    &:nth-child(8) {
      width: calc(#{span(7)} - 13px);
    }

    &:nth-child(2),
    &:nth-child(5),
    &:nth-child(8) {
      margin-right: gutter();
    }

    &:nth-child(3),
    &:nth-child(5),
    &:nth-child(9) {
      width: calc(#{span(5)} + 13px);
    }
  }
}

.AppPromotion {
  margin: 68px auto 0;
  text-align: center;
  width: 176px;

  @media (min-width: 670px) {
    // margin-top: gutter();
    width: (176px + 176px + gutter(static));
  }

  a {
    display: block;

    @media (min-width: 670px) {
      float: left;
    }

    + a {
      @media (max-width: 669px) {
        margin-top: gutter();
      }

      @media (min-width: 670px) {
        margin-left: gutter(static);
      }
    }
  }
}

.Graph {
  color: color('Gray');
  font-family: sans-serif('Book');
  font-size: #{(14 / $base-size)}em;
  line-height: 1;
  text-transform: uppercase;
}

.GraphRow {
  + .GraphRow {
    margin-top: #{(28 / 14)}em;

    @media (min-width: 670px) {
      margin-top: #{(45 / 14)}em;
    }
  }
}

.GraphLabel {
  letter-spacing: .5px;
  text-align: left;

  @media (min-width: 670px) {
    float: left;
    letter-spacing: 1px;
    text-align: right;
    width: span(3);
  }
}

.GraphViz {
  @media (max-width: 669px) {
    margin-top: #{(8 / 14)}em;
  }

  @media (min-width: 670px) {
    float: left;
    margin-left: gutter();
    width: span(8);
  }
}

.GraphViz-track {
  background-color: color('Alto');
  border-radius: #{(12 / 14)}em;
  height: #{(12 / 14)}em;
  width: 100%;
}

.GraphViz-fill {
  // background-color: color('Mariner');
  background-color: #4990e2;
  border-radius: #{(12 / 14)}em;
  height: #{(12 / 14)}em;

  .GraphRow:nth-child(1) & { width: #{((632px / span(8 static)) * 100%)} }
  .GraphRow:nth-child(2) & { width: #{((423px / span(8 static)) * 100%)} }
  .GraphRow:nth-child(3) & { width: #{((365px / span(8 static)) * 100%)} }
  .GraphRow:nth-child(4) & { width: #{((212px / span(8 static)) * 100%)} }
  .GraphRow:nth-child(5) & { width: #{((171px / span(8 static)) * 100%)} }
  .GraphRow:nth-child(6) & { width: #{((158px / span(8 static)) * 100%)} }
}

.GraphAmount {
  color: color('Tundora');
  float: left;
  font-size: #{(12 / 14)}em;
  letter-spacing: 1px;
  margin-left: gutter();
  text-align: left;
  width: span(1);

  @media (max-width: 669px) {
    display: none;
  }
}

.iPhones {
  padding-left: #{(56px / container()) * 100%};
  padding-left: #{(64px / container()) * 100%};
  position: relative;
  z-index: 2;

  .iPhone {
    float: left;

    &.-black {
      margin-top: #{(60px / container()) * 100%};
      width: #{(281px / container()) * 100%};

      @media (max-width: 669px) {
        margin-left: 7%;
      }
    }

    &.-gold {
      margin-left: #{(16px / container()) * 100%};
      width: #{(433px / container()) * 100%};
    }

    &.-pink {
      margin-left: #{(32px / container()) * 100%};
      margin-top: #{(47px / container()) * 100%};
      width: #{(382px / container()) * 100%};
    }
  }
}

.CityGuides {
  img {
    float: left;
    width: span(2);

    + img {
      margin-left: gutter();
    }
  }

  .container + .container {
    margin-top: gutter();
  }
}

.Video {
  background-color: color('Alabaster');
  padding-bottom: #{(24 / $base-size)}em;
  padding-top: #{(24 / $base-size)}em;

  figure {
    @include aspect-ratio(836, 470, 'iframe');
    margin: 0;
  }

  iframe {
    border: 0;
    height: 100%;
    width: 100%;
  }
}

.ImageGroup {
  column-count: 2;
  column-gap: gutter(static);
  position: relative;
  z-index: 2;

  &.-shadows {
    img {
      box-shadow: 0 20px 40px rgba(color('Black'), .17);
    }
  }

  img {
    // border: 1px solid rgba(color('DustyGray'), .58);
    backface-visibility: hidden;
    // box-shadow: 0 20px 40px rgba(color('Black'), .17);
    display: block;

    // &:first-child {
    //   margin-top: gutter(static);
    // }

    &:nth-child(even) {
      margin-top: gutter(static);
    }
  }
}

.CarouselFeature {
  position: relative;
  z-index: 2;

  .panel {
    @media (max-width: 669px) {
      padding-top: 30px;
    }
  }

  .copy {
    @media (max-width: 669px) {
      font-size: 18px;
    }

    @media (min-width: 670px) {
      width: 80%;
      margin: auto;
    }
  }
}

.HeaderImage {
  // background-color: color('MineShaft');
  // background-position: center center;
  // background-repeat: no-repeat;
  // background-size: cover;
  // height: #{(377 / $base-size)}em;
  max-height: 377px;
  // overflow: hidden;

  > img {
    display: block;
    opacity: 0;
    width: 100%;
  }
}

.Section {
  padding-bottom: #{(190 / $base-size)}em;
  padding-top: #{(80 / $base-size)}em;

  @media (min-width: 670px) {
    padding-bottom: #{(245 / $base-size)}em; // 134px;
    padding-top: #{(96 / $base-size)}em; // 103px;
  }

  &.-angled {
    position: relative;
    z-index: 1;
  }

  &.-angledTop::before,
  &.-angledBottom::after {
    background-color: inherit;
    bottom: 0;
    content: '';
    display: block;
    height: 30%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    width: 100%;
    z-index: -1;

    @media (min-width: 670px) {
      height: 50%;
    }
  }

  &.-angledTop.-ltr::before,
  &.-angledBottom.-ltr::after {
    transform: skewY(-5deg);
    transform-origin: 0;
  }

  &.-angledTop.-rtl::before,
  &.-angledBottom.-rtl::after {
    transform: skewY(5deg);
    transform-origin: 100%;
  }

  &.-angledTop::before {
    top: 0;
  }

  &.-angledBottom::after {
    top: 100%;
  }
}

.Carousel {
  // max-width: 1048px;
  position: relative;

  img {
    display: block;
    width: 85%;
    margin: auto;
  }

  .swiper-button-disabled {
    display: none;
  }
}

.Carousel-pagination {
  margin-top: 20px;

  @media (min-width: 670px) {
    margin-top: 50px;
  }

  .swiper-pagination-bullet {
    background-color: color('White');
    border: 1px solid color('DustyGray');
    height: 6px;
    opacity: 1;
    margin: 0 3px;
    width: 6px;

    @media (min-width: 670px) {
      height: 10px;
      margin-left: 5px;
      margin-right: 5px;
      width: 10px;
    }
  }

  .swiper-pagination-bullet-active {
    background-color: color('Persimmon');
    border-color: darken(color('Persimmon'), 10); // #f14f54
  }
}

.Carousel-next,
.Carousel-prev {
  background-color: rgba(color('White'), .92);
  border: 0;
  border-radius: 100%;
  box-shadow: 0 #{(20 / 27)}em #{(40 / 27)}em rgba(color('Black'), .20);
  bottom: 0;
  color: color('DustyGray');
  cursor: pointer;
  display: block;
  font-size: 12px;
  height: #{(68 / 27)}em;
  // margin-bottom: auto;
  // margin-top: auto;
  padding: 0;
  position: absolute;
  // top: 0;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: #{(68 / 27)}em;

  @media (min-width: 670px) {
    font-size: 17px;
  }

  @media (min-width: 1024px) {
    font-size: 27px;
  }

  .icon {
    font-size: 10px;
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto;

    @media (min-width: 670px) {
      font-size: 14px;
    }
  }
}

.Carousel-next {
  right: -15px;

  @media (min-width: 670px) {
    right: -21px;
  }

  @media (min-width: 1024px) {
    right: -34px;
  }

  .icon {
    left: 0;
    right: -3px;
  }
}

.Carousel-prev {
  left: -15px;

  @media (min-width: 670px) {
    left: -21px;
  }

  @media (min-width: 1024px) {
    left: -34px;
  }

  .icon {
    left: -3px;
    right: 0;
  }
}

.FooterNav {
  @include clearfix();
  margin-bottom: #{(36 / $base-size)}em;
  margin-left: #{(20 / $base-size)}em;
  margin-right: #{(20 / $base-size)}em;
  position: relative;

  @media (min-width: 670px) {
    margin-left: #{(56 / 1600) * 100%};
    margin-right: #{(56 / 1600) * 100%};
  }

  @media (min-width: 1600px) {
    margin-left: #{(108 / $base-size)}em;
    margin-right: #{(108 / $base-size)}em;
  }
}

.NavLink {
  background-color: color('White');
  box-shadow: 0 12px 25px rgba(color('Black'), .2);
  color: color('MineShaft');
  display: inline-block;
  font-family: sans-serif('Medium');
  font-size: 14px;
  padding: 22px 48px 18px;
  position: relative;
  text-align: center;
  transition: color 200ms ease-in-out,
    background-color 200ms ease-in-out,
    box-shadow 100ms ease-in-out,
    transform 100ms ease-in-out;
  width: 344px;
  z-index: 2;

  @media (min-width: 670px) {
    box-shadow: 0 44px 145px 10px rgba(0, 0, 0, 0.12);
    font-size: 16px;
    padding: 42px 0 40px;
  }

  @media (min-width: 880px) {
    font-size: 24px;
  }

  @media (min-width: 1200px) {
    font-size: 32px;
  }

  .FooterNav & {
    &:first-child {
      float: left;
    }

    &:last-child {
      float: right;
    }
  }

  &:hover,
  &:active,
  &:focus {
    color: color('DoveGray');
    // color: color('Persimmon');

    small,
    .icon {
      color: lighten(color('Persimmon'), 5);

      .LonelyPlanet.StoryPage & {
        color: lighten(color('Mariner'), 5);
      }
    }
  }

  &:active {
    background-color: color('Alabaster');
    box-shadow: none;
    transform: translate(3px, 3px);
  }

  small {
    color: color('Persimmon');
    font-family: sans-serif('Medium');
    font-size: 12px;
    letter-spacing: 1px;
    display: block;
    text-transform: uppercase;
    transition: color 200ms ease-in-out;

    @media (max-width: 669px) {
      display: none;
    }

    .LonelyPlanet.StoryPage & {
      color: color('Mariner');
    }
  }

  span {
    color: color('MineShaft');
    letter-spacing: -1px;
  }

  .icon {
    bottom: 0;
    color: color('Persimmon');
    font-size: #{(14 / 32)}em;
    margin-bottom: auto;
    margin-top: auto;
    position: absolute;
    top: 0;

    .LonelyPlanet.StoryPage & {
      color: color('Mariner');
    }
  }

  .icon:first-child {
    left: 30px;
  }

  .icon:last-child {
    right: 30px;
  }
}

.Preloader {
  align-items: center;
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  bottom: 0;
  display: flex;
  height: 100vh;
  justify-content: center;
  left: 0;
  // opacity: 1;
  position: fixed;
  right: 0;
  top: 0;
  // transition: opacity 500ms ease-in-out 500ms;
  width: 100%;
  z-index: 1;

  &.slide-up {
    transform: translateY(-25vh);
    transition: transform 450ms ease-in-out;
  }

  // &.is-loading {
  //   opacity: 0;
  // }

  .icon {
    font-size: 204px;
    opacity: 1;
    position: relative;
    transition: opacity 500ms ease-in-out 500ms;
    z-index: 2;
  }

  &.is-loading .icon {
    opacity: 0;
  }
}

.Page {
  // opacity: 1;
  position: relative;
  // transition: opacity 500ms ease-in-out;
  z-index: 2;

  // &.is-loading {
  //   opacity: 0;
  // }
}

.SingleImage {
  &.-wide {
    img {
      @media (min-width: 1400px) {
        left: 50%;
        max-width: 1600px;
        position: relative;
        transform: translateX(-50%);
        width: 120%;
      }
    }
  }
}


/// Utilities

.u-above {
  position: relative;
  z-index: 2;
}

.u-left {
  @media (min-width: 670px) {
    float: left;
  }
}

.u-right {
  @media (min-width: 670px) {
    float: right;
  }
}

.u-mb20 {
  margin-bottom: #{(20 / $base-size)}em !important;
}

.u-centered {
  margin-left: auto;
  margin-right: auto;
  text-align: center;
}

.u-bg-alabaster {
  background-color: color('Alabaster');
}
// Black         : #000,
// White         : #fff,
// PictonBlue    : #3aa7e8,
// MineShaft     : #323232, // 3a3a3a
// CapeCod       : #3c4143,
// DoveGray      : #656565,
// Mariner       : #297cbc, // LP
// Cerulean      : #00a1e0, // Salesforce
// Persimmon     : #ff5459, // Airbnb
// Seashell      : #f1f1f1,
// Alabaster     : #f7f7f7,
// SilverChalice : #afafaf,
// Scorpion      : #5e5e5e,
// Gray          : #868686


/// Themes

.t-lonelyPlanet {
  $color: color('Mariner');
  background-color: $color;
  color: color('White');

  &.Button {
    &:hover,
    &:active,
    &:focus {
      background-color: $color + 30;
    }
  }
}

.t-lonelyPlanet-alt {
  $color: color('ChathamsBlue');
  background-color: $color;
  color: color('White');

  &.Button {
    &:hover,
    &:active,
    &:focus {
      background-color: $color + 30;
    }
  }
}

.t-salesforce {
  $color: color('Cerulean');
  background-color: $color;
  color: color('White');

  &.Button {
    &:hover,
    &:active,
    &:focus {
      background-color: $color + 30;
    }
  }
}

.t-airbnb {
  $color: color('Persimmon');
  background-color: $color;
  color: color('White');

  &.Button {
    &:hover,
    &:active,
    &:focus {
      background-color: $color + 30;
    }
  }
}
